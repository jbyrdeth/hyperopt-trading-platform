<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Enterprise-grade trading strategy optimization system with 45.2% proven returns and 24.1-second optimization speed"><link href=https://docs.hyperopt-strat.com/troubleshooting/faq/ rel=canonical><link href=../../examples/advanced-optimization/ rel=prev><link href=../troubleshooting-guide/ rel=next><link rel=icon href=../../assets/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.14"><title>FAQ - HyperOpt Strategy - Trading Optimization Platform</title><link rel=stylesheet href=../../assets/stylesheets/main.342714a4.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",""),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script><link href=../../assets/stylesheets/glightbox.min.css rel=stylesheet><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style><script src=../../assets/javascripts/glightbox.min.js></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=deep-orange> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#frequently-asked-questions-faq class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="HyperOpt Strategy - Trading Optimization Platform" class="md-header__button md-logo" aria-label="HyperOpt Strategy - Trading Optimization Platform" data-md-component=logo> <img src=../../assets/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> HyperOpt Strategy - Trading Optimization Platform </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> FAQ </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=deep-orange aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=deep-orange aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/hyperopt-strat/platform title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> hyperopt-strat/platform </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../getting-started/quick-start/ class=md-tabs__link> Getting Started </a> </li> <li class=md-tabs__item> <a href=../../architecture/system-overview/ class=md-tabs__link> Architecture </a> </li> <li class=md-tabs__item> <a href=../../api/complete-reference/ class=md-tabs__link> API Reference </a> </li> <li class=md-tabs__item> <a href=../../strategies/framework-overview.md class=md-tabs__link> Strategy Development </a> </li> <li class=md-tabs__item> <a href=../../examples/quick-start-tutorial/ class=md-tabs__link> Tutorials & Examples </a> </li> <li class=md-tabs__item> <a href=../../deployment/production-setup.md class=md-tabs__link> Deployment </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=./ class=md-tabs__link> Troubleshooting </a> </li> <li class=md-tabs__item> <a href=../../reference/configuration.md class=md-tabs__link> Reference </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="HyperOpt Strategy - Trading Optimization Platform" class="md-nav__button md-logo" aria-label="HyperOpt Strategy - Trading Optimization Platform" data-md-component=logo> <img src=../../assets/logo.png alt=logo> </a> HyperOpt Strategy - Trading Optimization Platform </label> <div class=md-nav__source> <a href=https://github.com/hyperopt-strat/platform title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> hyperopt-strat/platform </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../getting-started/quick-start/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../architecture/system-overview/ class=md-nav__link> <span class=md-ellipsis> Architecture </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../api/complete-reference/ class=md-nav__link> <span class=md-ellipsis> API Reference </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../strategies/framework-overview.md class=md-nav__link> <span class=md-ellipsis> Strategy Development </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../examples/quick-start-tutorial/ class=md-nav__link> <span class=md-ellipsis> Tutorials & Examples </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../deployment/production-setup.md class=md-nav__link> <span class=md-ellipsis> Deployment </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8 checked> <label class=md-nav__link for=__nav_8 id=__nav_8_label tabindex> <span class=md-ellipsis> Troubleshooting </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=true> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Troubleshooting </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> FAQ </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> FAQ </span> </a> <nav class="md-nav md-nav--secondary" aria-label="On this page"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> On this page </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#quick-answers-to-common-questions class=md-nav__link> <span class=md-ellipsis> Quick Answers to Common Questions </span> </a> <nav class=md-nav aria-label="Quick Answers to Common Questions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#general-system-questions class=md-nav__link> <span class=md-ellipsis> General System Questions </span> </a> <nav class=md-nav aria-label="General System Questions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#q-what-makes-this-system-different-from-other-trading-optimization-platforms class=md-nav__link> <span class=md-ellipsis> Q: What makes this system different from other trading optimization platforms? </span> </a> </li> <li class=md-nav__item> <a href=#q-can-i-use-this-system-for-live-trading class=md-nav__link> <span class=md-ellipsis> Q: Can I use this system for live trading? </span> </a> </li> <li class=md-nav__item> <a href=#q-what-trading-instruments-are-supported class=md-nav__link> <span class=md-ellipsis> Q: What trading instruments are supported? </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#installation-and-setup class=md-nav__link> <span class=md-ellipsis> Installation and Setup </span> </a> <nav class=md-nav aria-label="Installation and Setup"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#q-im-getting-api-key-not-found-errors-how-do-i-fix-this class=md-nav__link> <span class=md-ellipsis> Q: I'm getting "API key not found" errors. How do I fix this? </span> </a> </li> <li class=md-nav__item> <a href=#q-docker-containers-wont-start-what-should-i-check class=md-nav__link> <span class=md-ellipsis> Q: Docker containers won't start. What should I check? </span> </a> </li> <li class=md-nav__item> <a href=#q-optimization-is-taking-too-long-how-can-i-speed-it-up class=md-nav__link> <span class=md-ellipsis> Q: Optimization is taking too long. How can I speed it up? </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#api-usage-and-development class=md-nav__link> <span class=md-ellipsis> API Usage and Development </span> </a> <nav class=md-nav aria-label="API Usage and Development"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#q-im-getting-429-too-many-requests-errors-what-are-the-rate-limits class=md-nav__link> <span class=md-ellipsis> Q: I'm getting 429 "Too Many Requests" errors. What are the rate limits? </span> </a> </li> <li class=md-nav__item> <a href=#q-how-do-i-handle-api-authentication-errors class=md-nav__link> <span class=md-ellipsis> Q: How do I handle API authentication errors? </span> </a> </li> <li class=md-nav__item> <a href=#q-my-custom-strategy-isnt-working-how-do-i-debug-it class=md-nav__link> <span class=md-ellipsis> Q: My custom strategy isn't working. How do I debug it? </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#performance-and-optimization class=md-nav__link> <span class=md-ellipsis> Performance and Optimization </span> </a> <nav class=md-nav aria-label="Performance and Optimization"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#q-my-backtests-are-returning-unrealistic-results-what-could-be-wrong class=md-nav__link> <span class=md-ellipsis> Q: My backtests are returning unrealistic results. What could be wrong? </span> </a> </li> <li class=md-nav__item> <a href=#q-how-do-i-optimize-for-multiple-objectives-return-risk-drawdown class=md-nav__link> <span class=md-ellipsis> Q: How do I optimize for multiple objectives (return, risk, drawdown)? </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#data-and-market-integration class=md-nav__link> <span class=md-ellipsis> Data and Market Integration </span> </a> <nav class=md-nav aria-label="Data and Market Integration"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#q-how-do-i-add-a-new-market-or-exchange class=md-nav__link> <span class=md-ellipsis> Q: How do I add a new market or exchange? </span> </a> </li> <li class=md-nav__item> <a href=#q-im-getting-stale-data-how-can-i-ensure-data-freshness class=md-nav__link> <span class=md-ellipsis> Q: I'm getting stale data. How can I ensure data freshness? </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#pine-script-and-tradingview-integration class=md-nav__link> <span class=md-ellipsis> Pine Script and TradingView Integration </span> </a> <nav class=md-nav aria-label="Pine Script and TradingView Integration"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#q-my-exported-pine-script-isnt-working-on-tradingview-what-should-i-check class=md-nav__link> <span class=md-ellipsis> Q: My exported Pine Script isn't working on TradingView. What should I check? </span> </a> </li> <li class=md-nav__item> <a href=#q-how-do-i-convert-my-python-strategy-to-pine-script class=md-nav__link> <span class=md-ellipsis> Q: How do I convert my Python strategy to Pine Script? </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#error-messages-and-solutions class=md-nav__link> <span class=md-ellipsis> Error Messages and Solutions </span> </a> <nav class=md-nav aria-label="Error Messages and Solutions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#q-what-does-optimization-timeout-exceeded-mean class=md-nav__link> <span class=md-ellipsis> Q: What does "Optimization timeout exceeded" mean? </span> </a> </li> <li class=md-nav__item> <a href=#q-memory-allocation-failed-how-do-i-fix-memory-issues class=md-nav__link> <span class=md-ellipsis> Q: "Memory allocation failed" - how do I fix memory issues? </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#contact-and-support class=md-nav__link> <span class=md-ellipsis> Contact and Support </span> </a> <nav class=md-nav aria-label="Contact and Support"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#q-how-do-i-get-help-if-my-issue-isnt-covered-here class=md-nav__link> <span class=md-ellipsis> Q: How do I get help if my issue isn't covered here? </span> </a> </li> <li class=md-nav__item> <a href=#q-is-there-a-roadmap-for-upcoming-features class=md-nav__link> <span class=md-ellipsis> Q: Is there a roadmap for upcoming features? </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../troubleshooting-guide/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting Guide </span> </a> </li> <li class=md-nav__item> <a href=../maintenance-guide/ class=md-nav__link> <span class=md-ellipsis> Maintenance Guide </span> </a> </li> <li class=md-nav__item> <a href=../../reference/error-codes.md class=md-nav__link> <span class=md-ellipsis> Error Codes </span> </a> </li> <li class=md-nav__item> <a href=../performance-issues.md class=md-nav__link> <span class=md-ellipsis> Performance Issues </span> </a> </li> <li class=md-nav__item> <a href=../support.md class=md-nav__link> <span class=md-ellipsis> Support </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../reference/configuration.md class=md-nav__link> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/hyperopt-strat/platform/edit/main/docs/troubleshooting/faq.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg> </a> <a href=https://github.com/hyperopt-strat/platform/raw/main/docs/troubleshooting/faq.md title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg> </a> <h1 id=frequently-asked-questions-faq>Frequently Asked Questions (FAQ)<a class=headerlink href=#frequently-asked-questions-faq title="Permanent link">&para;</a></h1> <h2 id=quick-answers-to-common-questions>Quick Answers to Common Questions<a class=headerlink href=#quick-answers-to-common-questions title="Permanent link">&para;</a></h2> <h3 id=general-system-questions>General System Questions<a class=headerlink href=#general-system-questions title="Permanent link">&para;</a></h3> <h4 id=q-what-makes-this-system-different-from-other-trading-optimization-platforms>Q: What makes this system different from other trading optimization platforms?<a class=headerlink href=#q-what-makes-this-system-different-from-other-trading-optimization-platforms title="Permanent link">&para;</a></h4> <p><strong>A:</strong> Our system combines: - <strong>Speed</strong>: 24.1-second optimization vs. industry standard 5-15 minutes - <strong>Performance</strong>: Proven 45.2% returns with 1.85 Sharpe ratio in validation - <strong>Scale</strong>: 65+ built-in strategies with unlimited custom strategy support - <strong>Integration</strong>: Direct TradingView Pine Script export for seamless deployment - <strong>Enterprise-Grade</strong>: &lt;200ms API response times with 99.9% uptime SLA</p> <h4 id=q-can-i-use-this-system-for-live-trading>Q: Can I use this system for live trading?<a class=headerlink href=#q-can-i-use-this-system-for-live-trading title="Permanent link">&para;</a></h4> <p><strong>A:</strong> Yes! The system is production-ready with: - Real-time market data integration - Risk management safeguards - Position sizing controls - Stop-loss and take-profit automation - Portfolio allocation optimization - Live Pine Script generation for TradingView execution</p> <h4 id=q-what-trading-instruments-are-supported>Q: What trading instruments are supported?<a class=headerlink href=#q-what-trading-instruments-are-supported title="Permanent link">&para;</a></h4> <p><strong>A:</strong> The system supports: - <strong>Cryptocurrencies</strong>: BTC, ETH, SOL, and 100+ other digital assets - <strong>Forex</strong>: All major and minor currency pairs - <strong>Stocks</strong>: US, European, and Asian equity markets - <strong>Commodities</strong>: Gold, silver, oil, agricultural products - <strong>Indices</strong>: S&amp;P 500, NASDAQ, Dow Jones, international indices - <strong>Custom Markets</strong>: Any market with OHLCV data</p> <hr> <h2 id=installation-and-setup>Installation and Setup<a class=headerlink href=#installation-and-setup title="Permanent link">&para;</a></h2> <h4 id=q-im-getting-api-key-not-found-errors-how-do-i-fix-this>Q: I'm getting "API key not found" errors. How do I fix this?<a class=headerlink href=#q-im-getting-api-key-not-found-errors-how-do-i-fix-this title="Permanent link">&para;</a></h4> <p><strong>A:</strong> Check your environment configuration:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=c1># 1. Verify your .env file exists in project root</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>ls<span class=w> </span>-la<span class=w> </span>.env
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=c1># 2. Check required API keys are set</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>cat<span class=w> </span>.env<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>-E<span class=w> </span><span class=s2>&quot;(API_KEY|SECRET)&quot;</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=c1># 3. Required variables:</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=nv>TRADING_API_KEY</span><span class=o>=</span>your_trading_api_key_here
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=nv>MARKET_DATA_API_KEY</span><span class=o>=</span>your_market_data_key_here
</span><span id=__span-0-10><a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=nv>REDIS_PASSWORD</span><span class=o>=</span>your_redis_password_here
</span></code></pre></div> <p><strong>Common Solutions:</strong> - Ensure no spaces around the <code>=</code> sign - Use quotes for keys containing special characters - Restart services after updating .env: <code>docker-compose restart</code></p> <h4 id=q-docker-containers-wont-start-what-should-i-check>Q: Docker containers won't start. What should I check?<a class=headerlink href=#q-docker-containers-wont-start-what-should-i-check title="Permanent link">&para;</a></h4> <p><strong>A:</strong> Follow this troubleshooting checklist:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=c1># 1. Check Docker is running</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>docker<span class=w> </span>--version
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>docker<span class=w> </span>ps
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=c1># 2. Verify available resources</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>docker<span class=w> </span>system<span class=w> </span>df
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a>docker<span class=w> </span>system<span class=w> </span>prune<span class=w>  </span><span class=c1># If disk space low</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a><span class=c1># 3. Check logs for specific errors</span>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a>docker-compose<span class=w> </span>logs<span class=w> </span>api
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a>docker-compose<span class=w> </span>logs<span class=w> </span>redis
</span><span id=__span-1-12><a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a>docker-compose<span class=w> </span>logs<span class=w> </span>postgres
</span><span id=__span-1-13><a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a>
</span><span id=__span-1-14><a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a><span class=c1># 4. Common port conflicts</span>
</span><span id=__span-1-15><a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a>netstat<span class=w> </span>-tulpn<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>-E<span class=w> </span><span class=s2>&quot;(8000|6379|5432)&quot;</span>
</span></code></pre></div> <p><strong>Port Conflict Resolution:</strong> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=c1># In docker-compose.yml, change conflicting ports:</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=nt>ports</span><span class=p>:</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;8001:8000&quot;</span><span class=w>  </span><span class=c1># Changed from 8000:8000</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;6380:6379&quot;</span><span class=w>  </span><span class=c1># Changed from 6379:6379</span>
</span></code></pre></div></p> <h4 id=q-optimization-is-taking-too-long-how-can-i-speed-it-up>Q: Optimization is taking too long. How can I speed it up?<a class=headerlink href=#q-optimization-is-taking-too-long-how-can-i-speed-it-up title="Permanent link">&para;</a></h4> <p><strong>A:</strong> Performance optimization steps:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=c1># 1. Reduce parameter space</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=n>optimization_config</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>    <span class=s2>&quot;n_trials&quot;</span><span class=p>:</span> <span class=mi>100</span><span class=p>,</span>      <span class=c1># Start with 100 instead of 500</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>    <span class=s2>&quot;n_jobs&quot;</span><span class=p>:</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span>         <span class=c1># Use all CPU cores</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>    <span class=s2>&quot;max_time&quot;</span><span class=p>:</span> <span class=mi>300</span><span class=p>,</span>      <span class=c1># 5-minute timeout</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>    <span class=s2>&quot;early_stopping&quot;</span><span class=p>:</span> <span class=mi>20</span>  <span class=c1># Stop if no improvement</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=p>}</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a><span class=c1># 2. Use faster strategy parameters</span>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a><span class=n>strategy_params</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a>    <span class=s2>&quot;lookback_period&quot;</span><span class=p>:</span> <span class=p>[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>20</span><span class=p>],</span>  <span class=c1># Reduce from [5, 10, 20, 50]</span>
</span><span id=__span-3-12><a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a>    <span class=s2>&quot;ma_type&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;SMA&quot;</span><span class=p>,</span> <span class=s2>&quot;EMA&quot;</span><span class=p>],</span>       <span class=c1># Reduce choices</span>
</span><span id=__span-3-13><a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a><span class=p>}</span>
</span><span id=__span-3-14><a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a>
</span><span id=__span-3-15><a id=__codelineno-3-15 name=__codelineno-3-15 href=#__codelineno-3-15></a><span class=c1># 3. Enable caching</span>
</span><span id=__span-3-16><a id=__codelineno-3-16 name=__codelineno-3-16 href=#__codelineno-3-16></a><span class=n>cache_config</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-3-17><a id=__codelineno-3-17 name=__codelineno-3-17 href=#__codelineno-3-17></a>    <span class=s2>&quot;enable_cache&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>
</span><span id=__span-3-18><a id=__codelineno-3-18 name=__codelineno-3-18 href=#__codelineno-3-18></a>    <span class=s2>&quot;cache_ttl&quot;</span><span class=p>:</span> <span class=mi>3600</span><span class=p>,</span>  <span class=c1># 1 hour cache</span>
</span><span id=__span-3-19><a id=__codelineno-3-19 name=__codelineno-3-19 href=#__codelineno-3-19></a><span class=p>}</span>
</span></code></pre></div> <p><strong>Expected Performance:</strong> - Simple strategies: 5-15 seconds - Complex strategies: 24-60 seconds - Portfolio optimization: 2-5 minutes</p> <hr> <h2 id=api-usage-and-development>API Usage and Development<a class=headerlink href=#api-usage-and-development title="Permanent link">&para;</a></h2> <h4 id=q-im-getting-429-too-many-requests-errors-what-are-the-rate-limits>Q: I'm getting 429 "Too Many Requests" errors. What are the rate limits?<a class=headerlink href=#q-im-getting-429-too-many-requests-errors-what-are-the-rate-limits title="Permanent link">&para;</a></h4> <p><strong>A:</strong> API rate limits by endpoint:</p> <table> <thead> <tr> <th>Endpoint</th> <th>Rate Limit</th> <th>Burst Limit</th> </tr> </thead> <tbody> <tr> <td><code>/optimize</code></td> <td>10/minute</td> <td>20/hour</td> </tr> <tr> <td><code>/validate</code></td> <td>30/minute</td> <td>100/hour</td> </tr> <tr> <td><code>/export</code></td> <td>60/minute</td> <td>200/hour</td> </tr> <tr> <td><code>/health</code></td> <td>300/minute</td> <td>Unlimited</td> </tr> </tbody> </table> <p><strong>Solutions:</strong> <div class="language-python highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=kn>import</span><span class=w> </span><span class=nn>time</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=kn>from</span><span class=w> </span><span class=nn>functools</span><span class=w> </span><span class=kn>import</span> <span class=n>wraps</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=k>def</span><span class=w> </span><span class=nf>rate_limit_retry</span><span class=p>(</span><span class=n>max_retries</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span> <span class=n>delay</span><span class=o>=</span><span class=mi>60</span><span class=p>):</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>    <span class=k>def</span><span class=w> </span><span class=nf>decorator</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a>        <span class=nd>@wraps</span><span class=p>(</span><span class=n>func</span><span class=p>)</span>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a>        <span class=k>def</span><span class=w> </span><span class=nf>wrapper</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a>            <span class=k>for</span> <span class=n>attempt</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>max_retries</span><span class=p>):</span>
</span><span id=__span-4-9><a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a>                <span class=k>try</span><span class=p>:</span>
</span><span id=__span-4-10><a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a>                    <span class=k>return</span> <span class=n>func</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span><span id=__span-4-11><a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a>                <span class=k>except</span> <span class=n>requests</span><span class=o>.</span><span class=n>exceptions</span><span class=o>.</span><span class=n>HTTPError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-4-12><a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a>                    <span class=k>if</span> <span class=n>e</span><span class=o>.</span><span class=n>response</span><span class=o>.</span><span class=n>status_code</span> <span class=o>==</span> <span class=mi>429</span><span class=p>:</span>
</span><span id=__span-4-13><a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a>                        <span class=n>wait_time</span> <span class=o>=</span> <span class=n>delay</span> <span class=o>*</span> <span class=p>(</span><span class=mi>2</span> <span class=o>**</span> <span class=n>attempt</span><span class=p>)</span>
</span><span id=__span-4-14><a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a>                        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Rate limit hit. Waiting </span><span class=si>{</span><span class=n>wait_time</span><span class=si>}</span><span class=s2>s...&quot;</span><span class=p>)</span>
</span><span id=__span-4-15><a id=__codelineno-4-15 name=__codelineno-4-15 href=#__codelineno-4-15></a>                        <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=n>wait_time</span><span class=p>)</span>
</span><span id=__span-4-16><a id=__codelineno-4-16 name=__codelineno-4-16 href=#__codelineno-4-16></a>                        <span class=k>continue</span>
</span><span id=__span-4-17><a id=__codelineno-4-17 name=__codelineno-4-17 href=#__codelineno-4-17></a>                    <span class=k>raise</span>
</span><span id=__span-4-18><a id=__codelineno-4-18 name=__codelineno-4-18 href=#__codelineno-4-18></a>            <span class=k>raise</span> <span class=ne>Exception</span><span class=p>(</span><span class=s2>&quot;Max retries exceeded&quot;</span><span class=p>)</span>
</span><span id=__span-4-19><a id=__codelineno-4-19 name=__codelineno-4-19 href=#__codelineno-4-19></a>        <span class=k>return</span> <span class=n>wrapper</span>
</span><span id=__span-4-20><a id=__codelineno-4-20 name=__codelineno-4-20 href=#__codelineno-4-20></a>    <span class=k>return</span> <span class=n>decorator</span>
</span><span id=__span-4-21><a id=__codelineno-4-21 name=__codelineno-4-21 href=#__codelineno-4-21></a>
</span><span id=__span-4-22><a id=__codelineno-4-22 name=__codelineno-4-22 href=#__codelineno-4-22></a><span class=nd>@rate_limit_retry</span><span class=p>()</span>
</span><span id=__span-4-23><a id=__codelineno-4-23 name=__codelineno-4-23 href=#__codelineno-4-23></a><span class=k>def</span><span class=w> </span><span class=nf>optimize_strategy</span><span class=p>(</span><span class=n>params</span><span class=p>):</span>
</span><span id=__span-4-24><a id=__codelineno-4-24 name=__codelineno-4-24 href=#__codelineno-4-24></a>    <span class=k>return</span> <span class=n>api_client</span><span class=o>.</span><span class=n>optimize</span><span class=p>(</span><span class=n>params</span><span class=p>)</span>
</span></code></pre></div></p> <h4 id=q-how-do-i-handle-api-authentication-errors>Q: How do I handle API authentication errors?<a class=headerlink href=#q-how-do-i-handle-api-authentication-errors title="Permanent link">&para;</a></h4> <p><strong>A:</strong> Authentication troubleshooting:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=c1># 1. Check API key format</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=k>def</span><span class=w> </span><span class=nf>validate_api_key</span><span class=p>(</span><span class=n>api_key</span><span class=p>):</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>api_key</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s1>&#39;hopt_&#39;</span><span class=p>):</span>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;API key must start with &#39;hopt_&#39;&quot;</span><span class=p>)</span>
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>api_key</span><span class=p>)</span> <span class=o>!=</span> <span class=mi>64</span><span class=p>:</span>
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&quot;API key must be 64 characters long&quot;</span><span class=p>)</span>
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a>    <span class=k>return</span> <span class=kc>True</span>
</span><span id=__span-5-8><a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a>
</span><span id=__span-5-9><a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a><span class=c1># 2. Test authentication</span>
</span><span id=__span-5-10><a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a><span class=kn>import</span><span class=w> </span><span class=nn>requests</span>
</span><span id=__span-5-11><a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a>
</span><span id=__span-5-12><a id=__codelineno-5-12 name=__codelineno-5-12 href=#__codelineno-5-12></a><span class=n>headers</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-5-13><a id=__codelineno-5-13 name=__codelineno-5-13 href=#__codelineno-5-13></a>    <span class=s1>&#39;Authorization&#39;</span><span class=p>:</span> <span class=sa>f</span><span class=s1>&#39;Bearer </span><span class=si>{</span><span class=n>api_key</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>,</span>
</span><span id=__span-5-14><a id=__codelineno-5-14 name=__codelineno-5-14 href=#__codelineno-5-14></a>    <span class=s1>&#39;Content-Type&#39;</span><span class=p>:</span> <span class=s1>&#39;application/json&#39;</span>
</span><span id=__span-5-15><a id=__codelineno-5-15 name=__codelineno-5-15 href=#__codelineno-5-15></a><span class=p>}</span>
</span><span id=__span-5-16><a id=__codelineno-5-16 name=__codelineno-5-16 href=#__codelineno-5-16></a>
</span><span id=__span-5-17><a id=__codelineno-5-17 name=__codelineno-5-17 href=#__codelineno-5-17></a><span class=n>response</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span>
</span><span id=__span-5-18><a id=__codelineno-5-18 name=__codelineno-5-18 href=#__codelineno-5-18></a>    <span class=s1>&#39;https://api.hyperopt-strat.com/v1/auth/test&#39;</span><span class=p>,</span>
</span><span id=__span-5-19><a id=__codelineno-5-19 name=__codelineno-5-19 href=#__codelineno-5-19></a>    <span class=n>headers</span><span class=o>=</span><span class=n>headers</span>
</span><span id=__span-5-20><a id=__codelineno-5-20 name=__codelineno-5-20 href=#__codelineno-5-20></a><span class=p>)</span>
</span><span id=__span-5-21><a id=__codelineno-5-21 name=__codelineno-5-21 href=#__codelineno-5-21></a>
</span><span id=__span-5-22><a id=__codelineno-5-22 name=__codelineno-5-22 href=#__codelineno-5-22></a><span class=k>if</span> <span class=n>response</span><span class=o>.</span><span class=n>status_code</span> <span class=o>==</span> <span class=mi>401</span><span class=p>:</span>
</span><span id=__span-5-23><a id=__codelineno-5-23 name=__codelineno-5-23 href=#__codelineno-5-23></a>    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Invalid API key&quot;</span><span class=p>)</span>
</span><span id=__span-5-24><a id=__codelineno-5-24 name=__codelineno-5-24 href=#__codelineno-5-24></a><span class=k>elif</span> <span class=n>response</span><span class=o>.</span><span class=n>status_code</span> <span class=o>==</span> <span class=mi>403</span><span class=p>:</span>
</span><span id=__span-5-25><a id=__codelineno-5-25 name=__codelineno-5-25 href=#__codelineno-5-25></a>    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;API key valid but insufficient permissions&quot;</span><span class=p>)</span>
</span><span id=__span-5-26><a id=__codelineno-5-26 name=__codelineno-5-26 href=#__codelineno-5-26></a><span class=k>elif</span> <span class=n>response</span><span class=o>.</span><span class=n>status_code</span> <span class=o>==</span> <span class=mi>200</span><span class=p>:</span>
</span><span id=__span-5-27><a id=__codelineno-5-27 name=__codelineno-5-27 href=#__codelineno-5-27></a>    <span class=nb>print</span><span class=p>(</span><span class=s2>&quot;Authentication successful&quot;</span><span class=p>)</span>
</span></code></pre></div> <h4 id=q-my-custom-strategy-isnt-working-how-do-i-debug-it>Q: My custom strategy isn't working. How do I debug it?<a class=headerlink href=#q-my-custom-strategy-isnt-working-how-do-i-debug-it title="Permanent link">&para;</a></h4> <p><strong>A:</strong> Strategy debugging workflow:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=c1># 1. Validate strategy syntax</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=kn>from</span><span class=w> </span><span class=nn>strategy_validator</span><span class=w> </span><span class=kn>import</span> <span class=n>validate_strategy</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=k>def</span><span class=w> </span><span class=nf>debug_strategy</span><span class=p>(</span><span class=n>strategy_code</span><span class=p>):</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-6-6><a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a>        <span class=c1># Syntax validation</span>
</span><span id=__span-6-7><a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a>        <span class=n>validate_strategy</span><span class=p>(</span><span class=n>strategy_code</span><span class=p>)</span>
</span><span id=__span-6-8><a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a>        <span class=nb>print</span><span class=p>(</span><span class=s2>&quot; Strategy syntax is valid&quot;</span><span class=p>)</span>
</span><span id=__span-6-9><a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a>
</span><span id=__span-6-10><a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a>        <span class=c1># Parameter validation</span>
</span><span id=__span-6-11><a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a>        <span class=n>params</span> <span class=o>=</span> <span class=n>extract_parameters</span><span class=p>(</span><span class=n>strategy_code</span><span class=p>)</span>
</span><span id=__span-6-12><a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot; Found </span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>params</span><span class=p>)</span><span class=si>}</span><span class=s2> parameters&quot;</span><span class=p>)</span>
</span><span id=__span-6-13><a id=__codelineno-6-13 name=__codelineno-6-13 href=#__codelineno-6-13></a>
</span><span id=__span-6-14><a id=__codelineno-6-14 name=__codelineno-6-14 href=#__codelineno-6-14></a>        <span class=c1># Backtest validation</span>
</span><span id=__span-6-15><a id=__codelineno-6-15 name=__codelineno-6-15 href=#__codelineno-6-15></a>        <span class=n>results</span> <span class=o>=</span> <span class=n>quick_backtest</span><span class=p>(</span><span class=n>strategy_code</span><span class=p>,</span> <span class=n>sample_data</span><span class=p>)</span>
</span><span id=__span-6-16><a id=__codelineno-6-16 name=__codelineno-6-16 href=#__codelineno-6-16></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot; Backtest completed: </span><span class=si>{</span><span class=n>results</span><span class=p>[</span><span class=s1>&#39;total_return&#39;</span><span class=p>]</span><span class=si>:</span><span class=s2>.2%</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-6-17><a id=__codelineno-6-17 name=__codelineno-6-17 href=#__codelineno-6-17></a>
</span><span id=__span-6-18><a id=__codelineno-6-18 name=__codelineno-6-18 href=#__codelineno-6-18></a>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-6-19><a id=__codelineno-6-19 name=__codelineno-6-19 href=#__codelineno-6-19></a>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot; Strategy error: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-6-20><a id=__codelineno-6-20 name=__codelineno-6-20 href=#__codelineno-6-20></a>        <span class=k>return</span> <span class=n>troubleshoot_strategy_error</span><span class=p>(</span><span class=n>e</span><span class=p>)</span>
</span><span id=__span-6-21><a id=__codelineno-6-21 name=__codelineno-6-21 href=#__codelineno-6-21></a>
</span><span id=__span-6-22><a id=__codelineno-6-22 name=__codelineno-6-22 href=#__codelineno-6-22></a><span class=c1># 2. Common strategy issues</span>
</span><span id=__span-6-23><a id=__codelineno-6-23 name=__codelineno-6-23 href=#__codelineno-6-23></a><span class=n>common_issues</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-6-24><a id=__codelineno-6-24 name=__codelineno-6-24 href=#__codelineno-6-24></a>    <span class=s2>&quot;NameError&quot;</span><span class=p>:</span> <span class=s2>&quot;Variable not defined - check indicator names&quot;</span><span class=p>,</span>
</span><span id=__span-6-25><a id=__codelineno-6-25 name=__codelineno-6-25 href=#__codelineno-6-25></a>    <span class=s2>&quot;IndexError&quot;</span><span class=p>:</span> <span class=s2>&quot;Array index out of range - check lookback periods&quot;</span><span class=p>,</span>
</span><span id=__span-6-26><a id=__codelineno-6-26 name=__codelineno-6-26 href=#__codelineno-6-26></a>    <span class=s2>&quot;TypeError&quot;</span><span class=p>:</span> <span class=s2>&quot;Type mismatch - ensure numeric parameters&quot;</span><span class=p>,</span>
</span><span id=__span-6-27><a id=__codelineno-6-27 name=__codelineno-6-27 href=#__codelineno-6-27></a>    <span class=s2>&quot;ValueError&quot;</span><span class=p>:</span> <span class=s2>&quot;Invalid value - check parameter ranges&quot;</span>
</span><span id=__span-6-28><a id=__codelineno-6-28 name=__codelineno-6-28 href=#__codelineno-6-28></a><span class=p>}</span>
</span></code></pre></div> <hr> <h2 id=performance-and-optimization>Performance and Optimization<a class=headerlink href=#performance-and-optimization title="Permanent link">&para;</a></h2> <h4 id=q-my-backtests-are-returning-unrealistic-results-what-could-be-wrong>Q: My backtests are returning unrealistic results. What could be wrong?<a class=headerlink href=#q-my-backtests-are-returning-unrealistic-results-what-could-be-wrong title="Permanent link">&para;</a></h4> <p><strong>A:</strong> Backtest validation checklist:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=c1># 1. Check for common pitfalls</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=k>def</span><span class=w> </span><span class=nf>validate_backtest_results</span><span class=p>(</span><span class=n>results</span><span class=p>):</span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a>    <span class=n>red_flags</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a>
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a>    <span class=c1># Unrealistic returns</span>
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a>    <span class=k>if</span> <span class=n>results</span><span class=p>[</span><span class=s1>&#39;annual_return&#39;</span><span class=p>]</span> <span class=o>&gt;</span> <span class=mf>2.0</span><span class=p>:</span>  <span class=c1># &gt;200%</span>
</span><span id=__span-7-7><a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a>        <span class=n>red_flags</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&quot;Returns too high - check for lookahead bias&quot;</span><span class=p>)</span>
</span><span id=__span-7-8><a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a>
</span><span id=__span-7-9><a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a>    <span class=c1># Perfect Sharpe ratio</span>
</span><span id=__span-7-10><a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a>    <span class=k>if</span> <span class=n>results</span><span class=p>[</span><span class=s1>&#39;sharpe_ratio&#39;</span><span class=p>]</span> <span class=o>&gt;</span> <span class=mf>5.0</span><span class=p>:</span>
</span><span id=__span-7-11><a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a>        <span class=n>red_flags</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&quot;Sharpe ratio too high - check for curve fitting&quot;</span><span class=p>)</span>
</span><span id=__span-7-12><a id=__codelineno-7-12 name=__codelineno-7-12 href=#__codelineno-7-12></a>
</span><span id=__span-7-13><a id=__codelineno-7-13 name=__codelineno-7-13 href=#__codelineno-7-13></a>    <span class=c1># No losing trades</span>
</span><span id=__span-7-14><a id=__codelineno-7-14 name=__codelineno-7-14 href=#__codelineno-7-14></a>    <span class=k>if</span> <span class=n>results</span><span class=p>[</span><span class=s1>&#39;win_rate&#39;</span><span class=p>]</span> <span class=o>&gt;</span> <span class=mf>0.95</span><span class=p>:</span>
</span><span id=__span-7-15><a id=__codelineno-7-15 name=__codelineno-7-15 href=#__codelineno-7-15></a>        <span class=n>red_flags</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&quot;Win rate too high - check for data errors&quot;</span><span class=p>)</span>
</span><span id=__span-7-16><a id=__codelineno-7-16 name=__codelineno-7-16 href=#__codelineno-7-16></a>
</span><span id=__span-7-17><a id=__codelineno-7-17 name=__codelineno-7-17 href=#__codelineno-7-17></a>    <span class=c1># Insufficient data</span>
</span><span id=__span-7-18><a id=__codelineno-7-18 name=__codelineno-7-18 href=#__codelineno-7-18></a>    <span class=k>if</span> <span class=n>results</span><span class=p>[</span><span class=s1>&#39;total_trades&#39;</span><span class=p>]</span> <span class=o>&lt;</span> <span class=mi>30</span><span class=p>:</span>
</span><span id=__span-7-19><a id=__codelineno-7-19 name=__codelineno-7-19 href=#__codelineno-7-19></a>        <span class=n>red_flags</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&quot;Too few trades for statistical significance&quot;</span><span class=p>)</span>
</span><span id=__span-7-20><a id=__codelineno-7-20 name=__codelineno-7-20 href=#__codelineno-7-20></a>
</span><span id=__span-7-21><a id=__codelineno-7-21 name=__codelineno-7-21 href=#__codelineno-7-21></a>    <span class=k>return</span> <span class=n>red_flags</span>
</span><span id=__span-7-22><a id=__codelineno-7-22 name=__codelineno-7-22 href=#__codelineno-7-22></a>
</span><span id=__span-7-23><a id=__codelineno-7-23 name=__codelineno-7-23 href=#__codelineno-7-23></a><span class=c1># 2. Robust validation settings</span>
</span><span id=__span-7-24><a id=__codelineno-7-24 name=__codelineno-7-24 href=#__codelineno-7-24></a><span class=n>validation_config</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-7-25><a id=__codelineno-7-25 name=__codelineno-7-25 href=#__codelineno-7-25></a>    <span class=s2>&quot;out_of_sample_ratio&quot;</span><span class=p>:</span> <span class=mf>0.3</span><span class=p>,</span>    <span class=c1># 30% holdout data</span>
</span><span id=__span-7-26><a id=__codelineno-7-26 name=__codelineno-7-26 href=#__codelineno-7-26></a>    <span class=s2>&quot;min_trades&quot;</span><span class=p>:</span> <span class=mi>50</span><span class=p>,</span>              <span class=c1># Minimum trade count</span>
</span><span id=__span-7-27><a id=__codelineno-7-27 name=__codelineno-7-27 href=#__codelineno-7-27></a>    <span class=s2>&quot;max_drawdown_limit&quot;</span><span class=p>:</span> <span class=mf>0.25</span><span class=p>,</span>    <span class=c1># 25% max drawdown</span>
</span><span id=__span-7-28><a id=__codelineno-7-28 name=__codelineno-7-28 href=#__codelineno-7-28></a>    <span class=s2>&quot;transaction_costs&quot;</span><span class=p>:</span> <span class=mf>0.001</span><span class=p>,</span>    <span class=c1># 0.1% per trade</span>
</span><span id=__span-7-29><a id=__codelineno-7-29 name=__codelineno-7-29 href=#__codelineno-7-29></a>    <span class=s2>&quot;slippage&quot;</span><span class=p>:</span> <span class=mf>0.0005</span>            <span class=c1># 0.05% slippage</span>
</span><span id=__span-7-30><a id=__codelineno-7-30 name=__codelineno-7-30 href=#__codelineno-7-30></a><span class=p>}</span>
</span></code></pre></div> <h4 id=q-how-do-i-optimize-for-multiple-objectives-return-risk-drawdown>Q: How do I optimize for multiple objectives (return, risk, drawdown)?<a class=headerlink href=#q-how-do-i-optimize-for-multiple-objectives-return-risk-drawdown title="Permanent link">&para;</a></h4> <p><strong>A:</strong> Multi-objective optimization setup:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=c1># 1. Define multiple objectives</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=k>def</span><span class=w> </span><span class=nf>multi_objective_fitness</span><span class=p>(</span><span class=n>results</span><span class=p>):</span>
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a>    <span class=k>return</span> <span class=p>{</span>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a>        <span class=s1>&#39;return&#39;</span><span class=p>:</span> <span class=n>results</span><span class=p>[</span><span class=s1>&#39;annual_return&#39;</span><span class=p>],</span>
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a>        <span class=s1>&#39;sharpe&#39;</span><span class=p>:</span> <span class=n>results</span><span class=p>[</span><span class=s1>&#39;sharpe_ratio&#39;</span><span class=p>],</span>
</span><span id=__span-8-6><a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a>        <span class=s1>&#39;calmar&#39;</span><span class=p>:</span> <span class=n>results</span><span class=p>[</span><span class=s1>&#39;calmar_ratio&#39;</span><span class=p>],</span>
</span><span id=__span-8-7><a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a>        <span class=s1>&#39;max_dd&#39;</span><span class=p>:</span> <span class=o>-</span><span class=n>results</span><span class=p>[</span><span class=s1>&#39;max_drawdown&#39;</span><span class=p>],</span>  <span class=c1># Negative for minimization</span>
</span><span id=__span-8-8><a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a>        <span class=s1>&#39;volatility&#39;</span><span class=p>:</span> <span class=o>-</span><span class=n>results</span><span class=p>[</span><span class=s1>&#39;volatility&#39;</span><span class=p>]</span>
</span><span id=__span-8-9><a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a>    <span class=p>}</span>
</span><span id=__span-8-10><a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a>
</span><span id=__span-8-11><a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a><span class=c1># 2. Pareto optimization</span>
</span><span id=__span-8-12><a id=__codelineno-8-12 name=__codelineno-8-12 href=#__codelineno-8-12></a><span class=n>optimization_config</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-8-13><a id=__codelineno-8-13 name=__codelineno-8-13 href=#__codelineno-8-13></a>    <span class=s2>&quot;algorithm&quot;</span><span class=p>:</span> <span class=s2>&quot;NSGA-II&quot;</span><span class=p>,</span>        <span class=c1># Multi-objective algorithm</span>
</span><span id=__span-8-14><a id=__codelineno-8-14 name=__codelineno-8-14 href=#__codelineno-8-14></a>    <span class=s2>&quot;objectives&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;return&quot;</span><span class=p>,</span> <span class=s2>&quot;sharpe&quot;</span><span class=p>,</span> <span class=s2>&quot;calmar&quot;</span><span class=p>],</span>
</span><span id=__span-8-15><a id=__codelineno-8-15 name=__codelineno-8-15 href=#__codelineno-8-15></a>    <span class=s2>&quot;weights&quot;</span><span class=p>:</span> <span class=p>[</span><span class=mf>0.4</span><span class=p>,</span> <span class=mf>0.3</span><span class=p>,</span> <span class=mf>0.3</span><span class=p>],</span>    <span class=c1># Objective weights</span>
</span><span id=__span-8-16><a id=__codelineno-8-16 name=__codelineno-8-16 href=#__codelineno-8-16></a>    <span class=s2>&quot;pareto_front&quot;</span><span class=p>:</span> <span class=kc>True</span>           <span class=c1># Return Pareto-optimal solutions</span>
</span><span id=__span-8-17><a id=__codelineno-8-17 name=__codelineno-8-17 href=#__codelineno-8-17></a><span class=p>}</span>
</span><span id=__span-8-18><a id=__codelineno-8-18 name=__codelineno-8-18 href=#__codelineno-8-18></a>
</span><span id=__span-8-19><a id=__codelineno-8-19 name=__codelineno-8-19 href=#__codelineno-8-19></a><span class=c1># 3. Select balanced solution</span>
</span><span id=__span-8-20><a id=__codelineno-8-20 name=__codelineno-8-20 href=#__codelineno-8-20></a><span class=k>def</span><span class=w> </span><span class=nf>select_balanced_solution</span><span class=p>(</span><span class=n>pareto_solutions</span><span class=p>):</span>
</span><span id=__span-8-21><a id=__codelineno-8-21 name=__codelineno-8-21 href=#__codelineno-8-21></a>    <span class=n>scores</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-8-22><a id=__codelineno-8-22 name=__codelineno-8-22 href=#__codelineno-8-22></a>    <span class=k>for</span> <span class=n>solution</span> <span class=ow>in</span> <span class=n>pareto_solutions</span><span class=p>:</span>
</span><span id=__span-8-23><a id=__codelineno-8-23 name=__codelineno-8-23 href=#__codelineno-8-23></a>        <span class=c1># Weighted score</span>
</span><span id=__span-8-24><a id=__codelineno-8-24 name=__codelineno-8-24 href=#__codelineno-8-24></a>        <span class=n>score</span> <span class=o>=</span> <span class=p>(</span>
</span><span id=__span-8-25><a id=__codelineno-8-25 name=__codelineno-8-25 href=#__codelineno-8-25></a>            <span class=mf>0.4</span> <span class=o>*</span> <span class=n>solution</span><span class=p>[</span><span class=s1>&#39;return&#39;</span><span class=p>]</span> <span class=o>+</span>
</span><span id=__span-8-26><a id=__codelineno-8-26 name=__codelineno-8-26 href=#__codelineno-8-26></a>            <span class=mf>0.3</span> <span class=o>*</span> <span class=n>solution</span><span class=p>[</span><span class=s1>&#39;sharpe&#39;</span><span class=p>]</span> <span class=o>+</span>
</span><span id=__span-8-27><a id=__codelineno-8-27 name=__codelineno-8-27 href=#__codelineno-8-27></a>            <span class=mf>0.3</span> <span class=o>*</span> <span class=n>solution</span><span class=p>[</span><span class=s1>&#39;calmar&#39;</span><span class=p>]</span>
</span><span id=__span-8-28><a id=__codelineno-8-28 name=__codelineno-8-28 href=#__codelineno-8-28></a>        <span class=p>)</span>
</span><span id=__span-8-29><a id=__codelineno-8-29 name=__codelineno-8-29 href=#__codelineno-8-29></a>        <span class=n>scores</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>score</span><span class=p>)</span>
</span><span id=__span-8-30><a id=__codelineno-8-30 name=__codelineno-8-30 href=#__codelineno-8-30></a>
</span><span id=__span-8-31><a id=__codelineno-8-31 name=__codelineno-8-31 href=#__codelineno-8-31></a>    <span class=n>best_idx</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>argmax</span><span class=p>(</span><span class=n>scores</span><span class=p>)</span>
</span><span id=__span-8-32><a id=__codelineno-8-32 name=__codelineno-8-32 href=#__codelineno-8-32></a>    <span class=k>return</span> <span class=n>pareto_solutions</span><span class=p>[</span><span class=n>best_idx</span><span class=p>]</span>
</span></code></pre></div> <hr> <h2 id=data-and-market-integration>Data and Market Integration<a class=headerlink href=#data-and-market-integration title="Permanent link">&para;</a></h2> <h4 id=q-how-do-i-add-a-new-market-or-exchange>Q: How do I add a new market or exchange?<a class=headerlink href=#q-how-do-i-add-a-new-market-or-exchange title="Permanent link">&para;</a></h4> <p><strong>A:</strong> Market integration steps:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=c1># 1. Create market configuration</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=n>market_config</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a>    <span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;binance_futures&quot;</span><span class=p>,</span>
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a>    <span class=s2>&quot;type&quot;</span><span class=p>:</span> <span class=s2>&quot;cryptocurrency&quot;</span><span class=p>,</span>
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a>    <span class=s2>&quot;trading_hours&quot;</span><span class=p>:</span> <span class=s2>&quot;24/7&quot;</span><span class=p>,</span>
</span><span id=__span-9-6><a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a>    <span class=s2>&quot;timezone&quot;</span><span class=p>:</span> <span class=s2>&quot;UTC&quot;</span><span class=p>,</span>
</span><span id=__span-9-7><a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a>    <span class=s2>&quot;min_order_size&quot;</span><span class=p>:</span> <span class=mf>0.001</span><span class=p>,</span>
</span><span id=__span-9-8><a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a>    <span class=s2>&quot;tick_size&quot;</span><span class=p>:</span> <span class=mf>0.01</span><span class=p>,</span>
</span><span id=__span-9-9><a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a>    <span class=s2>&quot;commission&quot;</span><span class=p>:</span> <span class=mf>0.0004</span><span class=p>,</span>  <span class=c1># 0.04%</span>
</span><span id=__span-9-10><a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a>    <span class=s2>&quot;api_endpoint&quot;</span><span class=p>:</span> <span class=s2>&quot;https://fapi.binance.com&quot;</span>
</span><span id=__span-9-11><a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a><span class=p>}</span>
</span><span id=__span-9-12><a id=__codelineno-9-12 name=__codelineno-9-12 href=#__codelineno-9-12></a>
</span><span id=__span-9-13><a id=__codelineno-9-13 name=__codelineno-9-13 href=#__codelineno-9-13></a><span class=c1># 2. Implement data connector</span>
</span><span id=__span-9-14><a id=__codelineno-9-14 name=__codelineno-9-14 href=#__codelineno-9-14></a><span class=k>class</span><span class=w> </span><span class=nc>BinanceFuturesConnector</span><span class=p>:</span>
</span><span id=__span-9-15><a id=__codelineno-9-15 name=__codelineno-9-15 href=#__codelineno-9-15></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>api_key</span><span class=p>,</span> <span class=n>secret_key</span><span class=p>):</span>
</span><span id=__span-9-16><a id=__codelineno-9-16 name=__codelineno-9-16 href=#__codelineno-9-16></a>        <span class=bp>self</span><span class=o>.</span><span class=n>client</span> <span class=o>=</span> <span class=n>BinanceClient</span><span class=p>(</span><span class=n>api_key</span><span class=p>,</span> <span class=n>secret_key</span><span class=p>)</span>
</span><span id=__span-9-17><a id=__codelineno-9-17 name=__codelineno-9-17 href=#__codelineno-9-17></a>
</span><span id=__span-9-18><a id=__codelineno-9-18 name=__codelineno-9-18 href=#__codelineno-9-18></a>    <span class=k>def</span><span class=w> </span><span class=nf>get_historical_data</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>symbol</span><span class=p>,</span> <span class=n>timeframe</span><span class=p>,</span> <span class=n>start</span><span class=p>,</span> <span class=n>end</span><span class=p>):</span>
</span><span id=__span-9-19><a id=__codelineno-9-19 name=__codelineno-9-19 href=#__codelineno-9-19></a>        <span class=c1># Implementation for fetching OHLCV data</span>
</span><span id=__span-9-20><a id=__codelineno-9-20 name=__codelineno-9-20 href=#__codelineno-9-20></a>        <span class=k>pass</span>
</span><span id=__span-9-21><a id=__codelineno-9-21 name=__codelineno-9-21 href=#__codelineno-9-21></a>
</span><span id=__span-9-22><a id=__codelineno-9-22 name=__codelineno-9-22 href=#__codelineno-9-22></a>    <span class=k>def</span><span class=w> </span><span class=nf>get_realtime_data</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>symbol</span><span class=p>):</span>
</span><span id=__span-9-23><a id=__codelineno-9-23 name=__codelineno-9-23 href=#__codelineno-9-23></a>        <span class=c1># Implementation for real-time price feeds</span>
</span><span id=__span-9-24><a id=__codelineno-9-24 name=__codelineno-9-24 href=#__codelineno-9-24></a>        <span class=k>pass</span>
</span><span id=__span-9-25><a id=__codelineno-9-25 name=__codelineno-9-25 href=#__codelineno-9-25></a>
</span><span id=__span-9-26><a id=__codelineno-9-26 name=__codelineno-9-26 href=#__codelineno-9-26></a><span class=c1># 3. Register market</span>
</span><span id=__span-9-27><a id=__codelineno-9-27 name=__codelineno-9-27 href=#__codelineno-9-27></a><span class=kn>from</span><span class=w> </span><span class=nn>market_registry</span><span class=w> </span><span class=kn>import</span> <span class=n>register_market</span>
</span><span id=__span-9-28><a id=__codelineno-9-28 name=__codelineno-9-28 href=#__codelineno-9-28></a><span class=n>register_market</span><span class=p>(</span><span class=s2>&quot;binance_futures&quot;</span><span class=p>,</span> <span class=n>BinanceFuturesConnector</span><span class=p>)</span>
</span></code></pre></div> <h4 id=q-im-getting-stale-data-how-can-i-ensure-data-freshness>Q: I'm getting stale data. How can I ensure data freshness?<a class=headerlink href=#q-im-getting-stale-data-how-can-i-ensure-data-freshness title="Permanent link">&para;</a></h4> <p><strong>A:</strong> Data freshness monitoring:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=c1># 1. Check data timestamps</span>
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=k>def</span><span class=w> </span><span class=nf>validate_data_freshness</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>max_age_minutes</span><span class=o>=</span><span class=mi>5</span><span class=p>):</span>
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a>    <span class=n>latest_timestamp</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>index</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a>    <span class=n>current_time</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>Timestamp</span><span class=o>.</span><span class=n>now</span><span class=p>(</span><span class=n>tz</span><span class=o>=</span><span class=s1>&#39;UTC&#39;</span><span class=p>)</span>
</span><span id=__span-10-5><a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a>    <span class=n>age_minutes</span> <span class=o>=</span> <span class=p>(</span><span class=n>current_time</span> <span class=o>-</span> <span class=n>latest_timestamp</span><span class=p>)</span><span class=o>.</span><span class=n>total_seconds</span><span class=p>()</span> <span class=o>/</span> <span class=mi>60</span>
</span><span id=__span-10-6><a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a>
</span><span id=__span-10-7><a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a>    <span class=k>if</span> <span class=n>age_minutes</span> <span class=o>&gt;</span> <span class=n>max_age_minutes</span><span class=p>:</span>
</span><span id=__span-10-8><a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Data is </span><span class=si>{</span><span class=n>age_minutes</span><span class=si>:</span><span class=s2>.1f</span><span class=si>}</span><span class=s2> minutes old&quot;</span><span class=p>)</span>
</span><span id=__span-10-9><a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a>
</span><span id=__span-10-10><a id=__codelineno-10-10 name=__codelineno-10-10 href=#__codelineno-10-10></a>    <span class=k>return</span> <span class=kc>True</span>
</span><span id=__span-10-11><a id=__codelineno-10-11 name=__codelineno-10-11 href=#__codelineno-10-11></a>
</span><span id=__span-10-12><a id=__codelineno-10-12 name=__codelineno-10-12 href=#__codelineno-10-12></a><span class=c1># 2. Set up data quality monitoring</span>
</span><span id=__span-10-13><a id=__codelineno-10-13 name=__codelineno-10-13 href=#__codelineno-10-13></a><span class=n>data_quality_config</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-10-14><a id=__codelineno-10-14 name=__codelineno-10-14 href=#__codelineno-10-14></a>    <span class=s2>&quot;max_age_minutes&quot;</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span>
</span><span id=__span-10-15><a id=__codelineno-10-15 name=__codelineno-10-15 href=#__codelineno-10-15></a>    <span class=s2>&quot;min_data_points&quot;</span><span class=p>:</span> <span class=mi>100</span><span class=p>,</span>
</span><span id=__span-10-16><a id=__codelineno-10-16 name=__codelineno-10-16 href=#__codelineno-10-16></a>    <span class=s2>&quot;check_gaps&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>
</span><span id=__span-10-17><a id=__codelineno-10-17 name=__codelineno-10-17 href=#__codelineno-10-17></a>    <span class=s2>&quot;validate_ohlc&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>
</span><span id=__span-10-18><a id=__codelineno-10-18 name=__codelineno-10-18 href=#__codelineno-10-18></a>    <span class=s2>&quot;alert_on_stale&quot;</span><span class=p>:</span> <span class=kc>True</span>
</span><span id=__span-10-19><a id=__codelineno-10-19 name=__codelineno-10-19 href=#__codelineno-10-19></a><span class=p>}</span>
</span><span id=__span-10-20><a id=__codelineno-10-20 name=__codelineno-10-20 href=#__codelineno-10-20></a>
</span><span id=__span-10-21><a id=__codelineno-10-21 name=__codelineno-10-21 href=#__codelineno-10-21></a><span class=c1># 3. Automatic data refresh</span>
</span><span id=__span-10-22><a id=__codelineno-10-22 name=__codelineno-10-22 href=#__codelineno-10-22></a><span class=k>def</span><span class=w> </span><span class=nf>auto_refresh_data</span><span class=p>(</span><span class=n>symbol</span><span class=p>,</span> <span class=n>interval</span><span class=o>=</span><span class=s2>&quot;1m&quot;</span><span class=p>):</span>
</span><span id=__span-10-23><a id=__codelineno-10-23 name=__codelineno-10-23 href=#__codelineno-10-23></a>    <span class=k>try</span><span class=p>:</span>
</span><span id=__span-10-24><a id=__codelineno-10-24 name=__codelineno-10-24 href=#__codelineno-10-24></a>        <span class=n>fresh_data</span> <span class=o>=</span> <span class=n>fetch_latest_data</span><span class=p>(</span><span class=n>symbol</span><span class=p>,</span> <span class=n>interval</span><span class=p>)</span>
</span><span id=__span-10-25><a id=__codelineno-10-25 name=__codelineno-10-25 href=#__codelineno-10-25></a>        <span class=n>validate_data_freshness</span><span class=p>(</span><span class=n>fresh_data</span><span class=p>)</span>
</span><span id=__span-10-26><a id=__codelineno-10-26 name=__codelineno-10-26 href=#__codelineno-10-26></a>        <span class=k>return</span> <span class=n>fresh_data</span>
</span><span id=__span-10-27><a id=__codelineno-10-27 name=__codelineno-10-27 href=#__codelineno-10-27></a>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span><span id=__span-10-28><a id=__codelineno-10-28 name=__codelineno-10-28 href=#__codelineno-10-28></a>        <span class=n>logger</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Data refresh failed: </span><span class=si>{</span><span class=n>e</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-10-29><a id=__codelineno-10-29 name=__codelineno-10-29 href=#__codelineno-10-29></a>        <span class=k>return</span> <span class=n>get_cached_data</span><span class=p>(</span><span class=n>symbol</span><span class=p>)</span>
</span></code></pre></div> <hr> <h2 id=pine-script-and-tradingview-integration>Pine Script and TradingView Integration<a class=headerlink href=#pine-script-and-tradingview-integration title="Permanent link">&para;</a></h2> <h4 id=q-my-exported-pine-script-isnt-working-on-tradingview-what-should-i-check>Q: My exported Pine Script isn't working on TradingView. What should I check?<a class=headerlink href=#q-my-exported-pine-script-isnt-working-on-tradingview-what-should-i-check title="Permanent link">&para;</a></h4> <p><strong>A:</strong> Pine Script troubleshooting:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a>// 1. Check Pine Script version compatibility
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a>//@version=5
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a>indicator(&quot;Strategy Name&quot;, overlay=true)
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a>
</span><span id=__span-11-5><a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a>// 2. Common Pine Script issues and fixes
</span><span id=__span-11-6><a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a>
</span><span id=__span-11-7><a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a>// Issue: Variable scope errors
</span><span id=__span-11-8><a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a>// Fix: Declare variables properly
</span><span id=__span-11-9><a id=__codelineno-11-9 name=__codelineno-11-9 href=#__codelineno-11-9></a>var float entry_price = na
</span><span id=__span-11-10><a id=__codelineno-11-10 name=__codelineno-11-10 href=#__codelineno-11-10></a>var int position_size = 0
</span><span id=__span-11-11><a id=__codelineno-11-11 name=__codelineno-11-11 href=#__codelineno-11-11></a>
</span><span id=__span-11-12><a id=__codelineno-11-12 name=__codelineno-11-12 href=#__codelineno-11-12></a>// Issue: Repainting problems
</span><span id=__span-11-13><a id=__codelineno-11-13 name=__codelineno-11-13 href=#__codelineno-11-13></a>// Fix: Use historical data only
</span><span id=__span-11-14><a id=__codelineno-11-14 name=__codelineno-11-14 href=#__codelineno-11-14></a>sma_20 = ta.sma(close[1], 20)  // Use [1] to avoid repainting
</span><span id=__span-11-15><a id=__codelineno-11-15 name=__codelineno-11-15 href=#__codelineno-11-15></a>
</span><span id=__span-11-16><a id=__codelineno-11-16 name=__codelineno-11-16 href=#__codelineno-11-16></a>// Issue: Incomplete trade logic
</span><span id=__span-11-17><a id=__codelineno-11-17 name=__codelineno-11-17 href=#__codelineno-11-17></a>// Fix: Ensure all entry/exit conditions
</span><span id=__span-11-18><a id=__codelineno-11-18 name=__codelineno-11-18 href=#__codelineno-11-18></a>long_condition = ta.crossover(ta.sma(close, 10), ta.sma(close, 20))
</span><span id=__span-11-19><a id=__codelineno-11-19 name=__codelineno-11-19 href=#__codelineno-11-19></a>short_condition = ta.crossunder(ta.sma(close, 10), ta.sma(close, 20))
</span><span id=__span-11-20><a id=__codelineno-11-20 name=__codelineno-11-20 href=#__codelineno-11-20></a>
</span><span id=__span-11-21><a id=__codelineno-11-21 name=__codelineno-11-21 href=#__codelineno-11-21></a>if long_condition and strategy.position_size == 0
</span><span id=__span-11-22><a id=__codelineno-11-22 name=__codelineno-11-22 href=#__codelineno-11-22></a>    strategy.entry(&quot;Long&quot;, strategy.long)
</span><span id=__span-11-23><a id=__codelineno-11-23 name=__codelineno-11-23 href=#__codelineno-11-23></a>
</span><span id=__span-11-24><a id=__codelineno-11-24 name=__codelineno-11-24 href=#__codelineno-11-24></a>if short_condition and strategy.position_size &gt; 0
</span><span id=__span-11-25><a id=__codelineno-11-25 name=__codelineno-11-25 href=#__codelineno-11-25></a>    strategy.close(&quot;Long&quot;)
</span></code></pre></div> <h4 id=q-how-do-i-convert-my-python-strategy-to-pine-script>Q: How do I convert my Python strategy to Pine Script?<a class=headerlink href=#q-how-do-i-convert-my-python-strategy-to-pine-script title="Permanent link">&para;</a></h4> <p><strong>A:</strong> Python to Pine Script conversion:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=c1># Python strategy</span>
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a><span class=k>def</span><span class=w> </span><span class=nf>moving_average_crossover</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>fast</span><span class=o>=</span><span class=mi>10</span><span class=p>,</span> <span class=n>slow</span><span class=o>=</span><span class=mi>20</span><span class=p>):</span>
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a>    <span class=n>fast_ma</span> <span class=o>=</span> <span class=n>data</span><span class=p>[</span><span class=s1>&#39;close&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>rolling</span><span class=p>(</span><span class=n>fast</span><span class=p>)</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span>
</span><span id=__span-12-4><a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a>    <span class=n>slow_ma</span> <span class=o>=</span> <span class=n>data</span><span class=p>[</span><span class=s1>&#39;close&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>rolling</span><span class=p>(</span><span class=n>slow</span><span class=p>)</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span>
</span><span id=__span-12-5><a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a>
</span><span id=__span-12-6><a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a>    <span class=n>signals</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>DataFrame</span><span class=p>(</span><span class=n>index</span><span class=o>=</span><span class=n>data</span><span class=o>.</span><span class=n>index</span><span class=p>)</span>
</span><span id=__span-12-7><a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a>    <span class=n>signals</span><span class=p>[</span><span class=s1>&#39;long&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span><span class=n>fast_ma</span> <span class=o>&gt;</span> <span class=n>slow_ma</span><span class=p>)</span> <span class=o>&amp;</span> <span class=p>(</span><span class=n>fast_ma</span><span class=o>.</span><span class=n>shift</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=o>&lt;=</span> <span class=n>slow_ma</span><span class=o>.</span><span class=n>shift</span><span class=p>(</span><span class=mi>1</span><span class=p>))</span>
</span><span id=__span-12-8><a id=__codelineno-12-8 name=__codelineno-12-8 href=#__codelineno-12-8></a>    <span class=n>signals</span><span class=p>[</span><span class=s1>&#39;short&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span><span class=n>fast_ma</span> <span class=o>&lt;</span> <span class=n>slow_ma</span><span class=p>)</span> <span class=o>&amp;</span> <span class=p>(</span><span class=n>fast_ma</span><span class=o>.</span><span class=n>shift</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=o>&gt;=</span> <span class=n>slow_ma</span><span class=o>.</span><span class=n>shift</span><span class=p>(</span><span class=mi>1</span><span class=p>))</span>
</span><span id=__span-12-9><a id=__codelineno-12-9 name=__codelineno-12-9 href=#__codelineno-12-9></a>
</span><span id=__span-12-10><a id=__codelineno-12-10 name=__codelineno-12-10 href=#__codelineno-12-10></a>    <span class=k>return</span> <span class=n>signals</span>
</span></code></pre></div> <div class="language-text highlight"><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a>// Equivalent Pine Script
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a>//@version=5
</span><span id=__span-13-3><a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a>strategy(&quot;MA Crossover&quot;, overlay=true)
</span><span id=__span-13-4><a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a>
</span><span id=__span-13-5><a id=__codelineno-13-5 name=__codelineno-13-5 href=#__codelineno-13-5></a>// Parameters
</span><span id=__span-13-6><a id=__codelineno-13-6 name=__codelineno-13-6 href=#__codelineno-13-6></a>fast_length = input.int(10, &quot;Fast MA Length&quot;)
</span><span id=__span-13-7><a id=__codelineno-13-7 name=__codelineno-13-7 href=#__codelineno-13-7></a>slow_length = input.int(20, &quot;Slow MA Length&quot;)
</span><span id=__span-13-8><a id=__codelineno-13-8 name=__codelineno-13-8 href=#__codelineno-13-8></a>
</span><span id=__span-13-9><a id=__codelineno-13-9 name=__codelineno-13-9 href=#__codelineno-13-9></a>// Calculate moving averages
</span><span id=__span-13-10><a id=__codelineno-13-10 name=__codelineno-13-10 href=#__codelineno-13-10></a>fast_ma = ta.sma(close, fast_length)
</span><span id=__span-13-11><a id=__codelineno-13-11 name=__codelineno-13-11 href=#__codelineno-13-11></a>slow_ma = ta.sma(close, slow_length)
</span><span id=__span-13-12><a id=__codelineno-13-12 name=__codelineno-13-12 href=#__codelineno-13-12></a>
</span><span id=__span-13-13><a id=__codelineno-13-13 name=__codelineno-13-13 href=#__codelineno-13-13></a>// Entry conditions
</span><span id=__span-13-14><a id=__codelineno-13-14 name=__codelineno-13-14 href=#__codelineno-13-14></a>long_condition = ta.crossover(fast_ma, slow_ma)
</span><span id=__span-13-15><a id=__codelineno-13-15 name=__codelineno-13-15 href=#__codelineno-13-15></a>short_condition = ta.crossunder(fast_ma, slow_ma)
</span><span id=__span-13-16><a id=__codelineno-13-16 name=__codelineno-13-16 href=#__codelineno-13-16></a>
</span><span id=__span-13-17><a id=__codelineno-13-17 name=__codelineno-13-17 href=#__codelineno-13-17></a>// Execute trades
</span><span id=__span-13-18><a id=__codelineno-13-18 name=__codelineno-13-18 href=#__codelineno-13-18></a>if long_condition
</span><span id=__span-13-19><a id=__codelineno-13-19 name=__codelineno-13-19 href=#__codelineno-13-19></a>    strategy.entry(&quot;Long&quot;, strategy.long)
</span><span id=__span-13-20><a id=__codelineno-13-20 name=__codelineno-13-20 href=#__codelineno-13-20></a>
</span><span id=__span-13-21><a id=__codelineno-13-21 name=__codelineno-13-21 href=#__codelineno-13-21></a>if short_condition
</span><span id=__span-13-22><a id=__codelineno-13-22 name=__codelineno-13-22 href=#__codelineno-13-22></a>    strategy.close(&quot;Long&quot;)
</span><span id=__span-13-23><a id=__codelineno-13-23 name=__codelineno-13-23 href=#__codelineno-13-23></a>    strategy.entry(&quot;Short&quot;, strategy.short)
</span><span id=__span-13-24><a id=__codelineno-13-24 name=__codelineno-13-24 href=#__codelineno-13-24></a>
</span><span id=__span-13-25><a id=__codelineno-13-25 name=__codelineno-13-25 href=#__codelineno-13-25></a>// Plot indicators
</span><span id=__span-13-26><a id=__codelineno-13-26 name=__codelineno-13-26 href=#__codelineno-13-26></a>plot(fast_ma, color=color.blue, title=&quot;Fast MA&quot;)
</span><span id=__span-13-27><a id=__codelineno-13-27 name=__codelineno-13-27 href=#__codelineno-13-27></a>plot(slow_ma, color=color.red, title=&quot;Slow MA&quot;)
</span></code></pre></div> <hr> <h2 id=error-messages-and-solutions>Error Messages and Solutions<a class=headerlink href=#error-messages-and-solutions title="Permanent link">&para;</a></h2> <h4 id=q-what-does-optimization-timeout-exceeded-mean>Q: What does "Optimization timeout exceeded" mean?<a class=headerlink href=#q-what-does-optimization-timeout-exceeded-mean title="Permanent link">&para;</a></h4> <p><strong>A:</strong> Timeout troubleshooting:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=c1># Common causes and solutions:</span>
</span><span id=__span-14-2><a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a>
</span><span id=__span-14-3><a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a><span class=c1># 1. Reduce search space</span>
</span><span id=__span-14-4><a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a><span class=n>original_params</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-14-5><a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a>    <span class=s1>&#39;lookback&#39;</span><span class=p>:</span> <span class=nb>list</span><span class=p>(</span><span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>100</span><span class=p>,</span> <span class=mi>5</span><span class=p>)),</span>    <span class=c1># 19 values</span>
</span><span id=__span-14-6><a id=__codelineno-14-6 name=__codelineno-14-6 href=#__codelineno-14-6></a>    <span class=s1>&#39;threshold&#39;</span><span class=p>:</span> <span class=nb>list</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>arange</span><span class=p>(</span><span class=mf>0.1</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>,</span> <span class=mf>0.1</span><span class=p>))</span>  <span class=c1># 19 values</span>
</span><span id=__span-14-7><a id=__codelineno-14-7 name=__codelineno-14-7 href=#__codelineno-14-7></a><span class=p>}</span>
</span><span id=__span-14-8><a id=__codelineno-14-8 name=__codelineno-14-8 href=#__codelineno-14-8></a><span class=c1># Total combinations: 19  19 = 361</span>
</span><span id=__span-14-9><a id=__codelineno-14-9 name=__codelineno-14-9 href=#__codelineno-14-9></a>
</span><span id=__span-14-10><a id=__codelineno-14-10 name=__codelineno-14-10 href=#__codelineno-14-10></a><span class=n>optimized_params</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-14-11><a id=__codelineno-14-11 name=__codelineno-14-11 href=#__codelineno-14-11></a>    <span class=s1>&#39;lookback&#39;</span><span class=p>:</span> <span class=p>[</span><span class=mi>10</span><span class=p>,</span> <span class=mi>20</span><span class=p>,</span> <span class=mi>50</span><span class=p>],</span>              <span class=c1># 3 values</span>
</span><span id=__span-14-12><a id=__codelineno-14-12 name=__codelineno-14-12 href=#__codelineno-14-12></a>    <span class=s1>&#39;threshold&#39;</span><span class=p>:</span> <span class=p>[</span><span class=mf>0.5</span><span class=p>,</span> <span class=mf>1.0</span><span class=p>,</span> <span class=mf>1.5</span><span class=p>]</span>           <span class=c1># 3 values</span>
</span><span id=__span-14-13><a id=__codelineno-14-13 name=__codelineno-14-13 href=#__codelineno-14-13></a><span class=p>}</span>
</span><span id=__span-14-14><a id=__codelineno-14-14 name=__codelineno-14-14 href=#__codelineno-14-14></a><span class=c1># Total combinations: 3  3 = 9</span>
</span><span id=__span-14-15><a id=__codelineno-14-15 name=__codelineno-14-15 href=#__codelineno-14-15></a>
</span><span id=__span-14-16><a id=__codelineno-14-16 name=__codelineno-14-16 href=#__codelineno-14-16></a><span class=c1># 2. Increase timeout</span>
</span><span id=__span-14-17><a id=__codelineno-14-17 name=__codelineno-14-17 href=#__codelineno-14-17></a><span class=n>optimization_config</span> <span class=o>=</span> <span class=p>{</span>
</span><span id=__span-14-18><a id=__codelineno-14-18 name=__codelineno-14-18 href=#__codelineno-14-18></a>    <span class=s1>&#39;timeout&#39;</span><span class=p>:</span> <span class=mi>1800</span><span class=p>,</span>  <span class=c1># 30 minutes instead of default 10 minutes</span>
</span><span id=__span-14-19><a id=__codelineno-14-19 name=__codelineno-14-19 href=#__codelineno-14-19></a>    <span class=s1>&#39;early_stopping&#39;</span><span class=p>:</span> <span class=mi>50</span><span class=p>,</span>  <span class=c1># Stop if no improvement</span>
</span><span id=__span-14-20><a id=__codelineno-14-20 name=__codelineno-14-20 href=#__codelineno-14-20></a>    <span class=s1>&#39;n_jobs&#39;</span><span class=p>:</span> <span class=o>-</span><span class=mi>1</span>      <span class=c1># Use all CPU cores</span>
</span><span id=__span-14-21><a id=__codelineno-14-21 name=__codelineno-14-21 href=#__codelineno-14-21></a><span class=p>}</span>
</span><span id=__span-14-22><a id=__codelineno-14-22 name=__codelineno-14-22 href=#__codelineno-14-22></a>
</span><span id=__span-14-23><a id=__codelineno-14-23 name=__codelineno-14-23 href=#__codelineno-14-23></a><span class=c1># 3. Use progressive optimization</span>
</span><span id=__span-14-24><a id=__codelineno-14-24 name=__codelineno-14-24 href=#__codelineno-14-24></a><span class=k>def</span><span class=w> </span><span class=nf>progressive_optimization</span><span class=p>(</span><span class=n>strategy</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
</span><span id=__span-14-25><a id=__codelineno-14-25 name=__codelineno-14-25 href=#__codelineno-14-25></a>    <span class=c1># Stage 1: Coarse grid search</span>
</span><span id=__span-14-26><a id=__codelineno-14-26 name=__codelineno-14-26 href=#__codelineno-14-26></a>    <span class=n>coarse_results</span> <span class=o>=</span> <span class=n>optimize</span><span class=p>(</span><span class=n>strategy</span><span class=p>,</span> <span class=n>data</span><span class=p>,</span> <span class=n>coarse_params</span><span class=p>,</span> <span class=n>timeout</span><span class=o>=</span><span class=mi>300</span><span class=p>)</span>
</span><span id=__span-14-27><a id=__codelineno-14-27 name=__codelineno-14-27 href=#__codelineno-14-27></a>
</span><span id=__span-14-28><a id=__codelineno-14-28 name=__codelineno-14-28 href=#__codelineno-14-28></a>    <span class=c1># Stage 2: Fine-tune around best parameters</span>
</span><span id=__span-14-29><a id=__codelineno-14-29 name=__codelineno-14-29 href=#__codelineno-14-29></a>    <span class=n>best_params</span> <span class=o>=</span> <span class=n>coarse_results</span><span class=o>.</span><span class=n>best_params</span>
</span><span id=__span-14-30><a id=__codelineno-14-30 name=__codelineno-14-30 href=#__codelineno-14-30></a>    <span class=n>fine_params</span> <span class=o>=</span> <span class=n>create_fine_grid</span><span class=p>(</span><span class=n>best_params</span><span class=p>,</span> <span class=n>radius</span><span class=o>=</span><span class=mf>0.1</span><span class=p>)</span>
</span><span id=__span-14-31><a id=__codelineno-14-31 name=__codelineno-14-31 href=#__codelineno-14-31></a>    <span class=n>fine_results</span> <span class=o>=</span> <span class=n>optimize</span><span class=p>(</span><span class=n>strategy</span><span class=p>,</span> <span class=n>data</span><span class=p>,</span> <span class=n>fine_params</span><span class=p>,</span> <span class=n>timeout</span><span class=o>=</span><span class=mi>600</span><span class=p>)</span>
</span><span id=__span-14-32><a id=__codelineno-14-32 name=__codelineno-14-32 href=#__codelineno-14-32></a>
</span><span id=__span-14-33><a id=__codelineno-14-33 name=__codelineno-14-33 href=#__codelineno-14-33></a>    <span class=k>return</span> <span class=n>fine_results</span>
</span></code></pre></div> <h4 id=q-memory-allocation-failed-how-do-i-fix-memory-issues>Q: "Memory allocation failed" - how do I fix memory issues?<a class=headerlink href=#q-memory-allocation-failed-how-do-i-fix-memory-issues title="Permanent link">&para;</a></h4> <p><strong>A:</strong> Memory optimization strategies:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=c1># 1. Check memory usage</span>
</span><span id=__span-15-2><a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a><span class=kn>import</span><span class=w> </span><span class=nn>psutil</span>
</span><span id=__span-15-3><a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a><span class=kn>import</span><span class=w> </span><span class=nn>gc</span>
</span><span id=__span-15-4><a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a>
</span><span id=__span-15-5><a id=__codelineno-15-5 name=__codelineno-15-5 href=#__codelineno-15-5></a><span class=k>def</span><span class=w> </span><span class=nf>monitor_memory</span><span class=p>():</span>
</span><span id=__span-15-6><a id=__codelineno-15-6 name=__codelineno-15-6 href=#__codelineno-15-6></a>    <span class=n>process</span> <span class=o>=</span> <span class=n>psutil</span><span class=o>.</span><span class=n>Process</span><span class=p>()</span>
</span><span id=__span-15-7><a id=__codelineno-15-7 name=__codelineno-15-7 href=#__codelineno-15-7></a>    <span class=n>memory_mb</span> <span class=o>=</span> <span class=n>process</span><span class=o>.</span><span class=n>memory_info</span><span class=p>()</span><span class=o>.</span><span class=n>rss</span> <span class=o>/</span> <span class=mi>1024</span> <span class=o>/</span> <span class=mi>1024</span>
</span><span id=__span-15-8><a id=__codelineno-15-8 name=__codelineno-15-8 href=#__codelineno-15-8></a>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Memory usage: </span><span class=si>{</span><span class=n>memory_mb</span><span class=si>:</span><span class=s2>.1f</span><span class=si>}</span><span class=s2> MB&quot;</span><span class=p>)</span>
</span><span id=__span-15-9><a id=__codelineno-15-9 name=__codelineno-15-9 href=#__codelineno-15-9></a>    <span class=k>return</span> <span class=n>memory_mb</span>
</span><span id=__span-15-10><a id=__codelineno-15-10 name=__codelineno-15-10 href=#__codelineno-15-10></a>
</span><span id=__span-15-11><a id=__codelineno-15-11 name=__codelineno-15-11 href=#__codelineno-15-11></a><span class=c1># 2. Optimize data loading</span>
</span><span id=__span-15-12><a id=__codelineno-15-12 name=__codelineno-15-12 href=#__codelineno-15-12></a><span class=k>def</span><span class=w> </span><span class=nf>load_data_efficiently</span><span class=p>(</span><span class=n>symbol</span><span class=p>,</span> <span class=n>start_date</span><span class=p>,</span> <span class=n>end_date</span><span class=p>):</span>
</span><span id=__span-15-13><a id=__codelineno-15-13 name=__codelineno-15-13 href=#__codelineno-15-13></a>    <span class=c1># Load in chunks instead of all at once</span>
</span><span id=__span-15-14><a id=__codelineno-15-14 name=__codelineno-15-14 href=#__codelineno-15-14></a>    <span class=n>chunk_size</span> <span class=o>=</span> <span class=mi>10000</span>  <span class=c1># 10k rows at a time</span>
</span><span id=__span-15-15><a id=__codelineno-15-15 name=__codelineno-15-15 href=#__codelineno-15-15></a>    <span class=n>chunks</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-15-16><a id=__codelineno-15-16 name=__codelineno-15-16 href=#__codelineno-15-16></a>
</span><span id=__span-15-17><a id=__codelineno-15-17 name=__codelineno-15-17 href=#__codelineno-15-17></a>    <span class=k>for</span> <span class=n>chunk_start</span> <span class=ow>in</span> <span class=n>pd</span><span class=o>.</span><span class=n>date_range</span><span class=p>(</span><span class=n>start_date</span><span class=p>,</span> <span class=n>end_date</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=s1>&#39;30D&#39;</span><span class=p>):</span>
</span><span id=__span-15-18><a id=__codelineno-15-18 name=__codelineno-15-18 href=#__codelineno-15-18></a>        <span class=n>chunk_end</span> <span class=o>=</span> <span class=nb>min</span><span class=p>(</span><span class=n>chunk_start</span> <span class=o>+</span> <span class=n>pd</span><span class=o>.</span><span class=n>Timedelta</span><span class=p>(</span><span class=n>days</span><span class=o>=</span><span class=mi>30</span><span class=p>),</span> <span class=n>end_date</span><span class=p>)</span>
</span><span id=__span-15-19><a id=__codelineno-15-19 name=__codelineno-15-19 href=#__codelineno-15-19></a>        <span class=n>chunk</span> <span class=o>=</span> <span class=n>load_data_chunk</span><span class=p>(</span><span class=n>symbol</span><span class=p>,</span> <span class=n>chunk_start</span><span class=p>,</span> <span class=n>chunk_end</span><span class=p>)</span>
</span><span id=__span-15-20><a id=__codelineno-15-20 name=__codelineno-15-20 href=#__codelineno-15-20></a>        <span class=n>chunks</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>chunk</span><span class=p>)</span>
</span><span id=__span-15-21><a id=__codelineno-15-21 name=__codelineno-15-21 href=#__codelineno-15-21></a>
</span><span id=__span-15-22><a id=__codelineno-15-22 name=__codelineno-15-22 href=#__codelineno-15-22></a>        <span class=c1># Free memory periodically</span>
</span><span id=__span-15-23><a id=__codelineno-15-23 name=__codelineno-15-23 href=#__codelineno-15-23></a>        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>chunks</span><span class=p>)</span> <span class=o>%</span> <span class=mi>10</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
</span><span id=__span-15-24><a id=__codelineno-15-24 name=__codelineno-15-24 href=#__codelineno-15-24></a>            <span class=n>gc</span><span class=o>.</span><span class=n>collect</span><span class=p>()</span>
</span><span id=__span-15-25><a id=__codelineno-15-25 name=__codelineno-15-25 href=#__codelineno-15-25></a>
</span><span id=__span-15-26><a id=__codelineno-15-26 name=__codelineno-15-26 href=#__codelineno-15-26></a>    <span class=k>return</span> <span class=n>pd</span><span class=o>.</span><span class=n>concat</span><span class=p>(</span><span class=n>chunks</span><span class=p>,</span> <span class=n>ignore_index</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span><span id=__span-15-27><a id=__codelineno-15-27 name=__codelineno-15-27 href=#__codelineno-15-27></a>
</span><span id=__span-15-28><a id=__codelineno-15-28 name=__codelineno-15-28 href=#__codelineno-15-28></a><span class=c1># 3. Reduce precision for large datasets</span>
</span><span id=__span-15-29><a id=__codelineno-15-29 name=__codelineno-15-29 href=#__codelineno-15-29></a><span class=k>def</span><span class=w> </span><span class=nf>optimize_data_types</span><span class=p>(</span><span class=n>df</span><span class=p>):</span>
</span><span id=__span-15-30><a id=__codelineno-15-30 name=__codelineno-15-30 href=#__codelineno-15-30></a>    <span class=c1># Convert float64 to float32 (50% memory reduction)</span>
</span><span id=__span-15-31><a id=__codelineno-15-31 name=__codelineno-15-31 href=#__codelineno-15-31></a>    <span class=n>float_cols</span> <span class=o>=</span> <span class=n>df</span><span class=o>.</span><span class=n>select_dtypes</span><span class=p>(</span><span class=n>include</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;float64&#39;</span><span class=p>])</span><span class=o>.</span><span class=n>columns</span>
</span><span id=__span-15-32><a id=__codelineno-15-32 name=__codelineno-15-32 href=#__codelineno-15-32></a>    <span class=n>df</span><span class=p>[</span><span class=n>float_cols</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=n>float_cols</span><span class=p>]</span><span class=o>.</span><span class=n>astype</span><span class=p>(</span><span class=s1>&#39;float32&#39;</span><span class=p>)</span>
</span><span id=__span-15-33><a id=__codelineno-15-33 name=__codelineno-15-33 href=#__codelineno-15-33></a>
</span><span id=__span-15-34><a id=__codelineno-15-34 name=__codelineno-15-34 href=#__codelineno-15-34></a>    <span class=c1># Convert int64 to int32 where possible</span>
</span><span id=__span-15-35><a id=__codelineno-15-35 name=__codelineno-15-35 href=#__codelineno-15-35></a>    <span class=n>int_cols</span> <span class=o>=</span> <span class=n>df</span><span class=o>.</span><span class=n>select_dtypes</span><span class=p>(</span><span class=n>include</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;int64&#39;</span><span class=p>])</span><span class=o>.</span><span class=n>columns</span>
</span><span id=__span-15-36><a id=__codelineno-15-36 name=__codelineno-15-36 href=#__codelineno-15-36></a>    <span class=k>for</span> <span class=n>col</span> <span class=ow>in</span> <span class=n>int_cols</span><span class=p>:</span>
</span><span id=__span-15-37><a id=__codelineno-15-37 name=__codelineno-15-37 href=#__codelineno-15-37></a>        <span class=k>if</span> <span class=n>df</span><span class=p>[</span><span class=n>col</span><span class=p>]</span><span class=o>.</span><span class=n>min</span><span class=p>()</span> <span class=o>&gt;=</span> <span class=o>-</span><span class=mi>2</span><span class=o>**</span><span class=mi>31</span> <span class=ow>and</span> <span class=n>df</span><span class=p>[</span><span class=n>col</span><span class=p>]</span><span class=o>.</span><span class=n>max</span><span class=p>()</span> <span class=o>&lt;</span> <span class=mi>2</span><span class=o>**</span><span class=mi>31</span><span class=p>:</span>
</span><span id=__span-15-38><a id=__codelineno-15-38 name=__codelineno-15-38 href=#__codelineno-15-38></a>            <span class=n>df</span><span class=p>[</span><span class=n>col</span><span class=p>]</span> <span class=o>=</span> <span class=n>df</span><span class=p>[</span><span class=n>col</span><span class=p>]</span><span class=o>.</span><span class=n>astype</span><span class=p>(</span><span class=s1>&#39;int32&#39;</span><span class=p>)</span>
</span><span id=__span-15-39><a id=__codelineno-15-39 name=__codelineno-15-39 href=#__codelineno-15-39></a>
</span><span id=__span-15-40><a id=__codelineno-15-40 name=__codelineno-15-40 href=#__codelineno-15-40></a>    <span class=k>return</span> <span class=n>df</span>
</span></code></pre></div> <hr> <h2 id=contact-and-support>Contact and Support<a class=headerlink href=#contact-and-support title="Permanent link">&para;</a></h2> <h4 id=q-how-do-i-get-help-if-my-issue-isnt-covered-here>Q: How do I get help if my issue isn't covered here?<a class=headerlink href=#q-how-do-i-get-help-if-my-issue-isnt-covered-here title="Permanent link">&para;</a></h4> <p><strong>A:</strong> Support channels:</p> <ol> <li><strong>GitHub Issues</strong>: <a href=https://github.com/hyperopt-strat/issues>github.com/hyperopt-strat/issues</a></li> <li>Bug reports and feature requests</li> <li> <p>Response time: 24-48 hours</p> </li> <li> <p><strong>Discord Community</strong>: <a href=https://discord.gg/hyperopt-strat>discord.gg/hyperopt-strat</a></p> </li> <li>Real-time chat support</li> <li> <p>Community discussions and tips</p> </li> <li> <p><strong>Email Support</strong>: <a href=mailto:support@hyperopt-strat.com>&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#64;&#104;&#121;&#112;&#101;&#114;&#111;&#112;&#116;&#45;&#115;&#116;&#114;&#97;&#116;&#46;&#99;&#111;&#109;</a></p> </li> <li>Enterprise support</li> <li> <p>Response time: 4-8 hours</p> </li> <li> <p><strong>Documentation</strong>: <a href=https://docs.hyperopt-strat.com>docs.hyperopt-strat.com</a></p> </li> <li>Comprehensive guides and tutorials</li> <li>Search functionality for quick answers</li> </ol> <h4 id=q-is-there-a-roadmap-for-upcoming-features>Q: Is there a roadmap for upcoming features?<a class=headerlink href=#q-is-there-a-roadmap-for-upcoming-features title="Permanent link">&para;</a></h4> <p><strong>A:</strong> Yes! Current roadmap includes:</p> <p><strong>Q4 2024:</strong> - Advanced portfolio optimization with correlation analysis - Real-time strategy monitoring dashboard - Enhanced Pine Script generation with advanced order types</p> <p><strong>Q1 2025:</strong> - Machine learning-based parameter optimization - Multi-timeframe strategy analysis - Options and futures strategy support</p> <p><strong>Q2 2025:</strong> - Social trading features and strategy sharing - Advanced risk management modules - Mobile app for strategy monitoring</p> <p>Follow our <a href=https://github.com/hyperopt-strat/roadmap>roadmap</a> for updates.</p> <hr> <p><em>For additional questions not covered here, please check our <a href=../troubleshooting-guide/ >troubleshooting guide</a> or contact support.</em> </p> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../../examples/advanced-optimization/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Advanced Optimization Tutorial"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Advanced Optimization Tutorial </div> </div> </a> <a href=../troubleshooting-guide/ class="md-footer__link md-footer__link--next" aria-label="Next: Troubleshooting Guide"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Troubleshooting Guide </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2024 <a href=https://hyperopt-strat.com target=_blank rel=noopener>HyperOpt Strategy</a>. All rights reserved. | <a href=#__consent>Change cookie settings</a> </div> </div> <div class=md-social> <a href=https://github.com/hyperopt-strat target=_blank rel=noopener title="GitHub Repository" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://pypi.org/project/hyperopt-strat/ target=_blank rel=noopener title="PyPI Package" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6M286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3M167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4m-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3"/></svg> </a> <a href=https://discord.gg/hyperopt-strat target=_blank rel=noopener title="Discord Community" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485 485 0 0 0 404.081 32.03a1.82 1.82 0 0 0-1.923.91 338 338 0 0 0-14.9 30.6 447.9 447.9 0 0 0-134.426 0 310 310 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.7 483.7 0 0 0-119.688 37.107 1.7 1.7 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.02 2.02 0 0 0 .765 1.375 487.7 487.7 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348 348 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321 321 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251 251 0 0 0 9.109-7.137 1.82 1.82 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.81 1.81 0 0 1 1.924.233 235 235 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.4 301.4 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391 391 0 0 0 30.014 48.815 1.86 1.86 0 0 0 2.063.7A486 486 0 0 0 610.7 405.729a1.88 1.88 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541M222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241m195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241"/></svg> </a> <a href=mailto:support@hyperopt-strat.com target=_blank rel=noopener title="Email Support" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l217.6 163.2c11.4 8.5 27 8.5 38.4 0l217.6-163.2c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48zM0 176v208c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V176L294.4 339.2a63.9 63.9 0 0 1-76.8 0z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <div class=md-consent data-md-component=consent id=__consent hidden> <div class=md-consent__overlay></div> <aside class=md-consent__inner> <form class="md-consent__form md-grid md-typeset" name=consent> <h4>Cookie consent</h4> <p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p> <input class=md-toggle type=checkbox id=__settings> <div class=md-consent__settings> <ul class=task-list> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=analytics checked> <span class=task-list-indicator></span> Google Analytics </label> </li> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=github checked> <span class=task-list-indicator></span> GitHub </label> </li> </ul> </div> <div class=md-consent__controls> <button class="md-button md-button--primary">Accept</button> <label class=md-button for=__settings>Manage settings</label> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script> <script id=__config type=application/json>{"base": "../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.code.select", "content.tabs.link", "content.tooltips", "header.autohide", "navigation.expand", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.path", "navigation.prune", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow", "toc.integrate"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script> <script src=../../assets/javascripts/bundle.13a4f30d.min.js></script> <script src=../../javascripts/extra.js></script> <script src=../../javascripts/mathjax.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> <script id=init-glightbox>const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>